<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ABC Restaurant Customer Registration Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title> ABC Restaurant </title>

<!-- Start Form Validation -->
<script>
    function validateForm()
    {
        let x=document.forms["myForm"] ["firstnameh"].value;
        if(x=="")
        {
            alert("First name must be filled out.");
            return false;
        }
    }
    </script>
    <script>
    function validateForm()
    {
        let x=document.forms["myForm"] ["lastnameh"].value;
        if(x=="")
        {
            alert("Last name must be filled out.");
            return false;
        }
    }
    </script>

    <script>
    function validateForm()
    {
        let x=document.forms["myForm"] ["countryh"].value;
        if(x=="")
        {
            alert("Select your country must be filled out.");
            return false;
        }
    }
    </script>

    <script>
    function validateForm()
    {
        let x=document.forms["myForm"] ["genderh"].value;
        if(x=="")
        {
            alert("Gender must be filled out.");
            return false;
        }
    }
    </script>

    <script>
    function validateForm()
    {
        let x=document.forms["myForm"] ["countrycodeh"].value;
        if(x=="")
        {
            alert("Country code must be filled out.");
            return false;
        }
    }
    </script>

    <script>
    function validateForm()
    {
        let x=document.forms["myForm"]["phonenoh"].value;
        if(x=="")
        {
            alert("Phone number must be filled out");
            return false;
        }
    }
    </script>

    <script>
    function validateForm()
    {
        let x=document.forms["myForm"]["dateofbirthh"].value;
        if(x=="")
        {
            alert("Date of birth must be filled out");
            return false;
        }
    }
    </script>

<script>
    function validateForm()
    {
        let x=document.forms["myForm"]["addressh"].value;
        if(x=="")
        {
            alert("Address must be filled out");
            return false;
        }
    }
    </script>

<script>
    function validateForm()
    {
        let x=document.forms["myForm"]["emailh"].value;
        if(x=="")
        {
            alert("Email must be filled out");
            return false;
        }
    }
    </script>

<script>
    function validateForm()
    {
        let x=document.forms["myForm"]["passwordh"].value;
        if(x=="")
        {
            alert("Password must be filled out");
            return false;
        }
    }
    </script>

<script>
    function validateForm()
    {
        let x=document.forms["myForm"]["repasswordh"].value;
        if(x=="")
        {
            alert("Repassword must be filled out");
            return false;
        }
    }
    </script>
    <!-- End Form validation -->
<style>

	 body {
            background-image: url('images/home_bg.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

button {
       background-color: #6495ed;
       width: 35%;
       color: white;
       padding: 15px;
       margin: 13px 100px;
       border: none;
       cursor: pointer;
       }
form {
        border: 3px solid #f1f1f1;
		height: 100%;
		width: 35%;
     }
input[type=text], input[type=password] {
        width: 100%;
        margin: 8px 0;
        padding: 12px 20px;
        display: inline-block;
        border: 2px black;
        box-sizing: border-box;
    }
button:hover {
        opacity: 0.7;
    }
.container {
        width: 89.5%;
		height: 87%;
        padding: 25px;
        background-image: url('images/light.jpg');
    }
.form-center {
        display: flex;
		justify-content: center;
}
</style>
</head>
<body>
<center> <h1> <font color="white"> Customer Registration Form </font> </h1> </center>
<div class="form-center">
    <div class="form-container">
        <div class="form-header">
            <h2>Customer Register</h2>
        </div>
        <div class="alert-container" th:if="${session.message}">
            <div class="alert alert-success" role="alert">
                <span th:text="${session.message}"></span>
            </div>
        </div>
        <form th:action="@{/api/register}" th:object="${user}" method="post">
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" required >
            </div>
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="mb-3">
                <label for="contact" class="form-label">Contact Number</label>
                <input type="text" class="form-control" id="contact" name="contactNumber" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Register</button>
        </form>
    </div>
<!--    <form id="customerForm" method="post">-->
<!--&lt;!&ndash;<form method="post" action="" name="myForm" onsubmit="return validateForm()">&ndash;&gt;-->
<!--  <div class="container">-->
<!--  <label> Firstname </label>-->
<!--<input type="text" id="firstName" name="firstName" placeholder= "Firstname (max 30 charcters a-z and A-Z)" size="30" required />-->
<!--<label> Lastname  </label>-->
<!--<input type="text" id="lastName" name="lastName" placeholder="Lastname (max 40 charcters a-z and A-Z)" size="40" required />-->
<!--<div>-->
<!--<br>-->
<!--<label>-->
<!--Country-->
<!--</label>   -->

<!--<select id="country" name="country">-->
<!--<option value="Sri Lanka">Sri Lanka</option>-->
<!--<option value="India">India</option>-->
<!--<option value="USA">USA</option>-->
<!--<option value="UK">UK</option>-->
<!--<option value="Canada">Canada</option>-->
<!--<option value="France">France</option>-->
<!--<option value="Australia">Australia</option>-->
<!--<option value="Gernmany">Gernmany</option>-->
<!--<option value="China">China</option>-->
<!--<option value="Japan">Japan</option>-->
<!--</select>-->
<!--</div>-->
<!--<br>-->
<!--<div>-->
<!--<label>-->
<!--Gender-->
<!--</label><br>-->
<!--<input type="radio" value="Male" id="gender" name="gender" checked > Male-->
<!--<input type="radio" value="Female"  name="gender"> Female-->
<!--</div>  <br>-->
<!--<div>-->
<!--<label>-->
<!--Country Code-->
<!--</label>-->
<!--<input type="text" id="countryCode" name="countryCode" placeholder="Country Code (+94)" size="5"/ required>-->
<!--</div> <br>-->
<!--<div>-->
<!--<label>-->
<!--Phone NO-->
<!--</label>-->
<!--<input type="text" id="phoneNo" name="phoneNo" placeholder="Phone NO ( 15 digit numbers)" size="15"/ required>-->
<!--</div>-->
<!--<div>-->
<!--<br>-->
<!--<label>-->
<!--Date Of Birth-->
<!--</label>-->
<!--<input type="date" id="dateofbirth" name="dateofbirth" placeholder="Date Of Birth"  required size="15"/>-->
<!--</div>-->
<!--<br>-->
<!--Current Address <br>-->
<!--<textarea id="address" name="address" cols="40" rows="5" placeholder="Current Address"  required>-->
<!--</textarea>-->
<!--<br>-->
<!--<br>-->
<!-- <label for="email"><b>Email</b></label>-->
<!-- <input type="text" placeholder="Enter Email (max 30 charcters a-z or A-Z and any numbers)" id="email" name="email" required>-->

<!--  <br>-->
<!--    <label for="password"><b>Password</b></label>-->
<!--    <input type="password" placeholder="Enter Password (max 15 charcters a-z or A-Z and any numbers)" id="password" name="password" required>-->

<!--    <label for="password-repeat"><b>Re-type Password </font> </b></label>-->
<!--    <input type="password" placeholder="Re-type Password (max 15 charcters a-z or A-Z and any numbers)" id="repassword" name="repassword" required>-->
<!-- <center>   <button type="submit" class="registerbtn">Register</button>  </center>-->
<!--<br> <center> <b> <i>-->
<!--Already have an account? <a href="userlogin1.html"> Login </b> </i></a>	</center>-->

<!--</form>-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Clear session message after 2 seconds
        setTimeout(function() {
            fetch('/api/clearMessage', {
                method: 'GET'
            }).then(response => {
                if (response.ok) {
                    const alertContainer = document.querySelector('.alert-container');
                    if (alertContainer) {
                        alertContainer.style.display = 'none';
                    }
                }
            }).catch(error => console.error('Error:', error));
        }, 2000);
    </script>
<!--    <script>-->
<!--        document.addEventListener('DOMContentLoaded', function() {-->
<!--            const form = document.getElementById('customerForm');-->

<!--            form.addEventListener('submit', function(e) {-->
<!--                e.preventDefault();-->

<!--                const user = {-->
<!--                    fullName: document.getElementById('fullName').value,-->
<!--                    lastName: document.getElementById('lastName').value,-->
<!--                    country: document.getElementById('country').value,-->
<!--                    gender: document.getElementById('gender').value,-->
<!--                    countryCode: document.getElementById('countryCode').value,-->
<!--                    phoneNo: document.getElementById('phoneNo').value,-->
<!--                    dateofbirth: document.getElementById('dateofbirth').value,-->
<!--                    address: document.getElementById('address').value,-->
<!--                    email: document.getElementById('email').value,-->
<!--                    password: document.getElementById('password').value,-->
<!--                    repassword: document.getElementById('repassword').value-->
<!--                };-->

<!--                fetch('/addCustomer', {-->
<!--                    method: 'POST',-->
<!--                    headers: {-->
<!--                        'Content-Type': 'application/json',-->
<!--                    },-->
<!--                    body: JSON.stringify(customer)-->
<!--                })-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    console.log('Success:', data);-->
<!--                    alert('Customer successfully Registered!');-->
<!--                    form.reset();-->
<!--                })-->
<!--                .catch((error) => {-->
<!--                    console.error('Error:', error);-->
<!--                    alert('Error submitting customer details. Please try again.');-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
</div>
</body>
</html>