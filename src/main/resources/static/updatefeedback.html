<!DOCTYPE html>
<head>
    <title>ABC Restaurant</title>
	<style>
	body {
            background-image: url('images/Back (2).png');
            height:100%;
			width:100%;
			}
            .well {
            left: 10%;
        }
            .form-container {
		margin-top: 50px;
		background-color: #fff;
		padding: 30px;
		border-radius: 5px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
		max-width: 600px;
		margin: 0 auto;
	}

	.form-container h2 {
		color: #ffbb2b;
		text-align: center;
		margin-bottom: 20px;
	}

	.form-container input[type=text] {
		width: 100%;
		padding: 10px;
		margin-bottom: 20px;
		border: none;
		border-radius: 5px;
		box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
		font-size: 16px;
		color: #333;
	}

	.form-container input[type=submit] {
		background-color: #ffbb2b;
		color: #fff;
		border: none;
		padding: 10px 20px;
		border-radius: 5px;
		font-size: 16px;
		cursor: pointer;
		transition: background-color 0.3s ease-in-out;
	}

	.form-container input[type=submit]:hover {
		background-color: #e29f24;
	}

	.form-container a {
		color: #fff;
		text-decoration: none;
	}

	.form-container a:hover {
		text-decoration: underline;
	}
</style>
<link href="css/bootstrap.min.css" rel="stylesheet">

        }
		</style>
    <link href="css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="admin/css/reg.css" type="text/css">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
</head>

<body>
    <div class="container">
     <br> <br> 
       
                            <div class='row'>
                            <div class='col-md-2'></div>
                            <div class='col-md-6 well'>

      <div class="well">
            <h2><center> Update Feedback Form  </center> </h2>
            <hr>
          <form id="updateFeedbackForm" method="post">
              <input type="hidden" id="feedbackId" name="feedbackId" value="{id}">
			  <div class="form-group">
                    <label for="id">Feedback Form ID:</label>&nbsp;
                    <input type="text" class="form-control" name="idh" placeholder="Feedback Form ID" required>
                </div>

              <div class="form-group">
                  <label for="fullName">Full Name:</label>
                  <input type="text" class="form-control" id="fullName" name="fullName" placeholder="Enter Full Name" required>
              </div>
              <div class="form-group">
                  <label for="contactNo">Contact NO:</label>
                  <input type="text" class="form-control" id="contactNo" name="contactNo" placeholder="Enter Contact NO" required>
              </div>
              <div class="form-group">
                  <label for="email">Email:</label>
                  <input type="text" class="form-control" id="email" name="email" placeholder="Enter Email Address" required>
              </div>
              <div class="form-group">
                  <label for="feedback">Feedback:</label>
                  <input type="text" class="form-control" id="feedback" name="feedback" placeholder="Type Feedback" required>
              </div>
              <center>
                  <button type="submit" class="btn btn-lg btn-primary" id="updateButton">Update</button>
                  &nbsp; &nbsp; &nbsp;
                  <button type="button" class="btn btn-lg btn-secondary" onclick="window.location.href='adminpage.html'">Cancel</button>
              </center>
              <br>
          </form>
        </div>
        </div>
		</div>
		</div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('updateFeedbackForm');

            form.addEventListener('submit', function(e) {
                e.preventDefault();

                const feedbackId = document.getElementById('feedbackId').value;
                const feedback = {
                    fullName: document.getElementById('fullName').value,
                    contactNo: document.getElementById('contactNo').value,
                    email: document.getElementById('email').value,
                    feedback: document.getElementById('feedback').value
                };

                fetch(`/updateFeedback/${feedbackId}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(feedback)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    alert('Feedback updated successfully!');
                    form.reset();
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Error updating feedback. Please try again.');
                });
            });
        });
    </script>
</body>

</html>